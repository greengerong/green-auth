"use strict";angular.module("green.auth",[]).factory("authInterceptor",["$q","authService",function(a,b){return{request:function(c){c.headers=c.headers||{};var d=b.getToken()||{};return angular.forEach(d,function(a,b){c.headers[b]=a}),c||a.when(c)}}}]).factory("responseInterceptor",["$q","$rootScope",function(a,b){return{responseError:function(c){return b.$broadcast("green-auth-event:response-error",c),a.reject(c)},response:function(c){return b.$broadcast("green-auth-event:response-success",c),c||a.when(c)}}}]).service("authService",[function(){var a,b=this;b.setToken=function(c){return a=angular.copy(c),b},b.getToken=function(){return a}}]).config(["$httpProvider",function(a){a.interceptors.push("authInterceptor","responseInterceptor")}]);